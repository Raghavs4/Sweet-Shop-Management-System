# Sweet Shop Management System

A full-stack web application for managing a sweet shop with user authentication, inventory management, and purchasing functionality.

## Project Structure

\`\`\`
sweet-shop-management/
├── backend/          # Node.js/TypeScript Express API
│   ├── src/
│   │   ├── config/
│   │   ├── controllers/
│   │   ├── middleware/
│   │   ├── models/
│   │   ├── routes/
│   │   └── server.ts
│   ├── package.json
│   └── tsconfig.json
│
└── frontend/         # React TypeScript Application
    ├── src/
    │   ├── components/
    │   ├── context/
    │   ├── pages/
    │   ├── App.tsx
    │   └── main.tsx
    ├── package.json
    └── vite.config.ts
\`\`\`

## Tech Stack

### Backend
- Node.js with TypeScript
- Express.js
- MongoDB with Mongoose
- JWT Authentication
- bcryptjs for password hashing

### Frontend
- React 18 with TypeScript
- React Router for navigation
- Axios for API calls
- Tailwind CSS for styling
- Vite for build tooling

## Features

### Backend API
- User registration and login with JWT authentication
- CRUD operations for sweets (Admin only for create, update, delete)
- Search and filter sweets by name, category, and price range
- Purchase functionality (decreases stock quantity)
- Restock functionality (Admin only)
- Protected routes with role-based authorization

### Frontend
- Responsive design with Tailwind CSS
- User authentication (login/register)
- Dashboard to view all available sweets
- Search and filter functionality
- Purchase button (disabled when quantity is 0)
- Admin panel for managing sweets
- Real-time stock updates

## Setup Instructions

### Prerequisites
- Node.js (v16 or higher)
- MongoDB installed and running
- npm or yarn package manager

### Backend Setup

1. Navigate to the backend directory:
\`\`\`bash
cd backend
\`\`\`

2. Install dependencies:
\`\`\`bash
npm install
\`\`\`

3. Create a \`.env\` file based on \`.env.example\`:
\`\`\`env
PORT=5000
MONGODB_URI=mongodb://localhost:27017/sweetshop
JWT_SECRET=your-secret-key-here
NODE_ENV=development
\`\`\`

4. Start the development server:
\`\`\`bash
npm run dev
\`\`\`

The backend API will run on http://localhost:5000

### Frontend Setup

1. Navigate to the frontend directory:
\`\`\`bash
cd frontend
\`\`\`

2. Install dependencies:
\`\`\`bash
npm install
\`\`\`

3. Start the development server:
\`\`\`bash
npm run dev
\`\`\`

The frontend application will run on http://localhost:3000

## API Endpoints

### Authentication
- \`POST /api/auth/register\` - Register a new user
- \`POST /api/auth/login\` - Login user

### Sweets (Protected)
- \`POST /api/sweets\` - Add a new sweet (Admin only)
- \`GET /api/sweets\` - Get all sweets
- \`GET /api/sweets/search\` - Search sweets (query params: name, category, minPrice, maxPrice)
- \`PUT /api/sweets/:id\` - Update a sweet (Admin only)
- \`DELETE /api/sweets/:id\` - Delete a sweet (Admin only)

### Inventory (Protected)
- \`POST /api/sweets/:id/purchase\` - Purchase a sweet
- \`POST /api/sweets/:id/restock\` - Restock a sweet (Admin only)

## Usage

1. Register a new account (select "Admin" role for admin features)
2. Login with your credentials
3. Browse sweets on the dashboard
4. Use search and filter to find specific sweets
5. Click "Purchase" to buy sweets (decreases stock)
6. If you're an admin, access the Admin Panel to:
   - Add new sweets
   - Edit existing sweets
   - Delete sweets
   - Restock sweets

## Sweet Model Schema

Each sweet has the following properties:
- \`_id\`: Unique identifier (auto-generated by MongoDB)
- \`name\`: Name of the sweet (required)
- \`category\`: Category of the sweet (required)
- \`price\`: Price of the sweet (required, must be >= 0)
- \`quantity\`: Quantity in stock (required, must be >= 0)
- \`description\`: Optional description
- \`imageUrl\`: Optional image URL
- \`createdAt\`: Timestamp of creation
- \`updatedAt\`: Timestamp of last update

## Security Features

- Password hashing using bcryptjs
- JWT token-based authentication
- Protected routes with authentication middleware
- Role-based authorization (Admin/User)
- CORS enabled for cross-origin requests
- Environment variables for sensitive data

## License

ISC
